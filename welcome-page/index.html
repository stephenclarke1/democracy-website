<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/style.css">
    <title>Welcome to Ballot Box</title>
</head>
<body>
    <div class="grid-container" id="top">
        <header class="page-header">
            <nav class="primary-nav">
                <a href="/">
                    <h1>Ballot Box</h1>
                </a>
            </nav>
        </header>
        <main class="content">
            <div class="content-container flex-centre">
                <form id="myForm" name="form" action="/" onsubmit="getData(this)" >
                    <div class="intro">
                        <h2>Welcome To <span class="wordmark">Ballot Box</span></h2>
                        <p>In order to personalise your experience, we need some information about you.</p>
                        <p>Concerned about your data? Check out our <a href="/privacy-policy">privacy policy</a>.</p>
                    </div>
                    <h3>Please Select Your Age:</h3>
                    <div class="radio-buttons">
                        <div>
                            <input type="radio" id="u17" required name="agegroup" value="u17">
                            <label for="u17">Under 17</label>
                        </div>
                        <div>
                            <input type="radio" id="17" name="agegroup" value="17">
                            <label for="17">17</label>
                        </div>
                        <div>
                            <input type="radio" id="18" name="agegroup" value="18">
                            <label for="18">18 and older</label>
                        </div>
                    </div>
                    <h3>Please Select Your Electorate:</h3>
                    <p>If you aren't sure which electorate you're in, visit <a target="_blank" href="https://vote.nz/maps/find-your-electorate/">the offical map</a>.</p>
                    <select name="electorate" required id="electorate">
                        <option value=""></option>
                        <option value="ohariu">Ōhāriu</option>
                        <option value="tetaitonga">Te Tai Tonga</option>
                        <option value="wellingtoncentral">Wellington Central</option>
                    </select>
                    <input type="submit" value="Submit">
                </form>
                <div class="result"></div>
                <script  type="text/javascript">
                    function store(){
                       var inputAge= document.getElementsByName("agegroup");
                       localStorage.setItem("agegroup", inputAge.value);
                       localStorage.setItem("formComplete", "false");

                    }

                      var storedValue = localStorage.getItem("agegroup");

                      function getData(form) {
                        var formData = new FormData(form);

                        const obj = Object.fromEntries(formData);
                        console.log(obj);
                        localStorage.setItem("formdata", JSON.stringify(obj));
                        }

                        document.getElementById("myForm").addEventListener("submit", function (e) {
                        e.preventDefault();

                        window.location.href = "/";
                        });
                  </script>
            </div>
        </main>
        <footer>
           <p><a href="/privacy-policy/">Privacy Policy</a></p>  
        </footer>
    </div>
</body>
</html>